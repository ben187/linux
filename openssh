# yum -y install openvpn
# mkdir /etc/openvpn/keys

##### EASY-RSA
# cd /etc/openvpn/keys
# wget https://github.com/OpenVPN/easy-rsa/archive/master.zip
# unzip master.zip
# cd /etc/openvpn/keys/easy-rsa-master/easyrsa3
# mv vars.example vars
# ./easyrsa init-pki
# ./easyrsa build-ca
# ./easyrsa gen-req server nopass
# ./easyrsa sign-req server server
# ./easyrsa gen-dh

# cp pki/ca.crt /etc/openvpn/ca.crt
# cp pki/dh.pem /etc/openvpn/dh.pem
# cp pki/issued/server.crt /etc/openvpn/server.crt
# cp pki/private/server.key /etc/openvpn/server.key

# ./easyrsa gen-req client nopass
# ./easyrsa sign-req client client

##### OPENVPN
# vi /etc/openvpn/server.conf

port 1194
proto udp 
dev tun

ca /etc/openvpn/ca.crt
cert /etc/openvpn/server.crt
key /etc/openvpn/server.key
dh /etc/openvpn/dh.pem

server 10.1.1.0 255.255.255.0 
push "redirect-gateway def1"
push "dhcp-option DNS 8.8.8.8"

ifconfig-pool-persist ipp.txt
client-to-client
client-config-dir /etc/openvpn/ccd

keepalive 10 120
comp-lzo
persist-key
persist-tun
status /var/log/openvpn/openvpn-status.log
log /var/log/openvpn/openvpn.log
verb 3

# mkdir /etc/openvpn/ccd && mkdir /var/log/openvpn
# systemctl start openvpn@server
# systemctl enable openvpn@server

##### OPENVPN CLIENT
config.ovpn:

dev tun
proto udp
remote 0.0.0.0
port 13555
client
resolv-retry infinite
ca ca.crt
cert user1.crt
key user1.key
persist-key
persist-tun
comp-lzo
